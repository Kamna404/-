[![Review Assignment Due Date](https://classroom.github.com/assets/deadline-readme-button-22041afd0340ce965d47ae6ef1cefeee28c7c493a6346c4f15d667ab976d596c.svg)](https://classroom.github.com/a/RW2nqStK)

---

## Web应用开发作业06：新闻资讯平台的缓存优化实践

### 一、场景设定：
本次作业旨在考察学生对*Spring Cache*核心组件的理解与应用。

作业背景：
一家新闻资讯网站，每天发布大量新闻文章，用户访问量较高，尤其在早晚高峰期间，热点新闻的访问频繁，导致数据库压力过大。
为此，网站计划引入缓存机制优化热点新闻数据的访问效率，并确保新闻更新时缓存也能同步更新或失效。

---

### 二、作业目标：

学生需完成以下任务以掌握核心知识点：

* 使用 Spring Boot 构建 RESTful 服务；
* 使用 Spring Cache 注解实现缓存；
* 理解缓存注解的基本语义与用法（`@Cacheable`、`@CacheEvict`、`@CachePut`）；
* 理解缓存穿透、缓存更新策略的处理方法；
* 实践使用本地缓存（Caffeine）与Redis缓存的配置切换。

---

### 三、具体任务：

#### 🧱 功能模块：

1. 实现新闻文章的增删改查接口（CRUD）：

    * 字段包括：标题、内容、作者、发布时间、浏览量、是否置顶等。

2. 实现以下缓存功能：

    * 新闻详情页：通过 `@Cacheable` 对 ID 查询进行缓存；
    * 新闻更新/删除时：使用 `@CacheEvict` 进行缓存同步；
    * 使用 Redis 作为缓存后端进行配置优化；
    * （选做）对访问量高的新闻做缓存预热或热点标记。

3. 提供接口测试说明：

    * 使用 Swagger接口测试集合，演示缓存效果。

---

### 四、技术要求：

| 项目   | 要求                                       |
| ---- |------------------------------------------|
| 框架   | Spring Boot，Maven/Gradle                 |
| 缓存配置 | 使用 Spring Cache，支持配置切换（Caffeine 与 Redis） |
| 接口风格 | RESTful API，返回 JSON                      |
| 持久层  | 可使用内存数据库（H2）或 MySQL                      |

---

## 五、交付要求

1. **提交内容：**
    - 完整的项目源码。
    - README文档，说明：
        - 项目基本功能描述
        - 使用的缓存方式
        - 如何运行与测试

2. **代码要求：**
    - 保持良好的项目结构。
    - 代码注释清晰，体现出对Security配置逻辑的理解。

3. **提交方式与截止时间：**
    - 通过Github Classroom提供的Git仓库地址进行提交。

---

### 六、评分标准（总分100分）：

| 项目                         | 描述                                 | 分值 |
| -------------------------- | ---------------------------------- | -- |
| 项目结构与可运行性                  | 能启动项目、接口基本可用                       | 15 |
| 新闻增删改查功能                   | 实现完整的增删改查接口                        | 15 |
| 使用Spring Cache缓存热点新闻详情     | 正确使用 `@Cacheable` 实现查询缓存           | 20 |
| 缓存失效与更新策略                  | 正确使用 `@CacheEvict` 和/或 `@CachePut` | 20 |
| 使用文档                       | 提供运行说明 + 接口测试文档                    | 10 |
| 进阶功能（使用 Redis 缓存 + 缓存命中统计） | 实现并演示缓存优化逻辑                        | 20 |

---

## 项目说明

### 项目基本功能描述
本项目是一个新闻资讯平台，使用Spring Boot构建，提供新闻文章的增删改查功能，并通过Spring Cache实现缓存优化。用户可以通过RESTful API接口进行新闻文章的创建、查询、更新和删除操作。

### 使用的缓存方式
- **Caffeine**：默认缓存方式，适用于本地缓存，配置了10分钟的过期时间。
- **Redis**：支持通过配置文件切换到Redis缓存，同样配置了10分钟的过期时间。

缓存功能：
- 使用`@Cacheable`注解对新闻文章详情查询进行缓存。
- 使用`@CachePut`注解在更新新闻文章时更新缓存。
- 使用`@CacheEvict`注解在删除新闻文章时清除缓存。

### 如何运行与测试
1. **环境要求**：
   - JDK 17
   - Maven
   - MySQL（可选，如果使用H2数据库则不需要）
   - Redis（可选，如果使用Redis缓存）

2. **运行项目**：
   - 克隆项目到本地。
   - 在`application.properties`文件中配置数据库连接信息和缓存类型（默认使用Caffeine）。
   - 运行`mvn spring-boot:run`命令启动项目。

3. **接口测试**：
   - 项目启动后，访问`http://localhost:8080/swagger-ui.html`打开Swagger接口文档。
   - 使用Swagger提供的接口测试工具进行新闻文章的增删改查操作。
   - 可以通过日志观察缓存的命中和更新情况。

4. **切换缓存方式**：
   - 修改`application.properties`文件中的`spring.cache.type`和`spring.profiles.active`属性来切换缓存方式。
   - 使用`redis`配置文件时，确保Redis服务已启动。

